<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Cadastro de Produto</title>
    <meta charset="UTF-8"/>
</head>
<body>
<h1>Cadastrar Produto</h1>

<form th:action="${produto.id} != null ? @{/produtos/atualizar/{id}(id=${produto.id})} : @{/produtos}"
      th:object="${produto}" method="post">

    <label for="nome">Nome:</label>
    <input type="text" id="nome" th:field="*{nome}"/>
    <div th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}"></div>
    <br/><br/>

    <label for="preco">Pre√ßo:</label>
    <input type="number" step="0.01" id="preco" th:field="*{preco}"/>
    <div th:if="${#fields.hasErrors('preco')}" th:errors="*{preco}"></div>
    <br/><br/>

    <label for="quantidade">Quantidade:</label>
    <input type="number" id="quantidade" th:field="*{quantidade}"/>
    <div th:if="${#fields.hasErrors('quantidade')}" th:errors="*{quantidade}"></div>
    <br/><br/>

    <label for="categoria">Categoria:</label>
    <select id="categoria" th:field="*{categoria.id}">
        <option th:each="cat : ${categorias}"
                th:value="${cat.id}"
                th:text="${cat.nome}">
        </option>
    </select>
    <br/><br/>

    <button type="submit" th:text="${produto.id} != null ? 'Atualizar' : 'Salvar'"></button>
</form>

<a th:href="@{/produtos}">Voltar</a>
</body>
</html>
